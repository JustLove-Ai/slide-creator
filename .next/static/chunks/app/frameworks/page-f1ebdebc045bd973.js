(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[606],{4045:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(5155),a=r(2115),n=r(1733);function o(){let[e,t]=(0,a.useState)([]),[o,d]=(0,a.useState)([]),[l,c]=(0,a.useState)(!0),[u,m]=(0,a.useState)(""),[x,p]=(0,a.useState)("list"),[f,h]=(0,a.useState)(null);(0,a.useEffect)(()=>{b(),g()},[]);let g=async()=>{if(0===e.length)try{let{createFrameworkTemplates:e}=await r.e(926).then(r.bind(r,7545));await e(),setTimeout(()=>b(),1e3)}catch(e){console.error("Error auto-seeding templates:",e)}};(0,a.useEffect)(()=>{d(e.filter(e=>e.name.toLowerCase().includes(u.toLowerCase())||e.description&&e.description.toLowerCase().includes(u.toLowerCase())))},[e,u]);let b=async()=>{try{let{getFrameworks:e}=await r.e(926).then(r.bind(r,7545)),s=await e();t(s)}catch(e){console.error("Error fetching frameworks:",e)}finally{c(!1)}},y=async e=>{if(confirm("Are you sure you want to delete this framework?"))try{let{deleteFramework:t}=await r.e(926).then(r.bind(r,7545)),s=await t(e);s.success?b():alert(s.error||"Failed to delete framework")}catch(e){console.error("Error deleting framework:",e)}},j=async e=>{try{let{duplicateFramework:t}=await r.e(926).then(r.bind(r,7545)),s=await t(e);s.success?b():alert(s.error||"Failed to duplicate framework")}catch(e){console.error("Error duplicating framework:",e)}},N=()=>{p("list"),h(null)};return l?(0,s.jsx)("main",{className:"min-h-screen bg-background p-8",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,s.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"}),(0,s.jsx)("span",{className:"ml-4 text-lg text-muted-foreground",children:"Loading frameworks..."})]})})}):(0,s.jsx)("main",{className:"min-h-screen bg-background p-8",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"create"===x?"Create Framework":"edit"===x?"Edit Framework":"Frameworks"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"list"===x?"Manage presentation frameworks and templates for structured content generation":"Configure your framework with structured slides and instructions"})]}),"list"===x?(0,s.jsx)("button",{onClick:()=>p("create"),className:"px-6 py-3 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors",children:"Create Framework"}):(0,s.jsx)("button",{onClick:N,className:"px-6 py-3 border border-input bg-background text-foreground rounded-md hover:bg-accent transition-colors",children:"Back to List"})]}),"list"===x?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsx)("input",{type:"text",placeholder:"Search frameworks...",value:u,onChange:e=>m(e.target.value),className:"w-full max-w-md px-4 py-2 border border-input bg-background text-foreground rounded-md focus:outline-none focus:ring-2 focus:ring-ring placeholder:text-muted-foreground"})}),(0,s.jsx)("div",{className:"grid gap-6",children:0===o.length?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-foreground mb-2",children:u?"No frameworks found":"No frameworks yet"}),(0,s.jsx)("p",{className:"text-muted-foreground mb-4",children:u?"Try adjusting your search terms.":"Create your first framework to get started."}),!u&&(0,s.jsx)("button",{onClick:()=>p("create"),className:"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors",children:"Create Framework"})]}):(0,s.jsx)("div",{className:"bg-card rounded-lg border overflow-hidden",children:(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{className:"bg-muted",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Name"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Description"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Slides"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Default"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Created"}),(0,s.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-border",children:o.map((e,t)=>(0,s.jsxs)(n.P.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},className:"hover:bg-muted/50",children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"font-medium text-foreground",children:e.name})}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsx)("div",{className:"text-sm text-foreground max-w-md truncate",children:e.description||"No description"})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-secondary text-secondary-foreground",children:[e.slides.length," slides"]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.isDefault&&(0,s.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-primary/10 text-primary",children:"Default"})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-muted-foreground",children:new Date(e.createdAt).toLocaleDateString()}),(0,s.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[(0,s.jsx)("button",{onClick:()=>{h(e),p("edit")},className:"text-primary hover:text-primary/80 mr-4",children:"Edit"}),(0,s.jsx)("button",{onClick:()=>j(e.id),className:"text-secondary-foreground hover:text-secondary-foreground/80 mr-4",children:"Duplicate"}),(0,s.jsx)("button",{onClick:()=>y(e.id),className:"text-destructive hover:text-destructive/80",children:"Delete"})]})]},e.id))})]})})})})]}):(0,s.jsx)(i,{framework:f,onSuccess:()=>{p("list"),h(null),b()},onCancel:N})]})})}function i(e){let{framework:t,onSuccess:o,onCancel:i}=e,[d,l]=(0,a.useState)((null==t?void 0:t.name)||""),[c,u]=(0,a.useState)((null==t?void 0:t.description)||""),[m,x]=(0,a.useState)((null==t?void 0:t.isDefault)||!1),[p,f]=(0,a.useState)((null==t?void 0:t.slides)||[]),[h,g]=(0,a.useState)(!1),b=(e,t,r)=>{let s=[...p];s[e]={...s[e],[t]:r},f(s)},y=async e=>{e.preventDefault(),g(!0);try{let e=new FormData;if(e.append("name",d),e.append("description",c),e.append("isDefault",m.toString()),e.append("slides",JSON.stringify(p)),t){let{updateFramework:s}=await r.e(926).then(r.bind(r,7545)),a=await s(t.id,e);a.success?o():alert(a.error||"Failed to update framework")}else{let{createFramework:t}=await r.e(926).then(r.bind(r,7545)),s=await t(e);s.success?o():alert(s.error||"Failed to create framework")}}catch(e){console.error("Error saving framework:",e),alert("An unexpected error occurred")}finally{g(!1)}};return(0,s.jsx)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-card rounded-lg border p-6 max-w-4xl mx-auto",children:(0,s.jsxs)("form",{onSubmit:y,className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Name *"}),(0,s.jsx)("input",{type:"text",value:d,onChange:e=>l(e.target.value),className:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-md focus:outline-none focus:ring-2 focus:ring-ring",placeholder:"Enter framework name",required:!0})]}),(0,s.jsxs)("div",{className:"flex items-center pt-6",children:[(0,s.jsx)("input",{type:"checkbox",id:"isDefault",checked:m,onChange:e=>x(e.target.checked),className:"mr-2 h-4 w-4 text-primary bg-background border-input rounded focus:ring-ring"}),(0,s.jsx)("label",{htmlFor:"isDefault",className:"text-sm text-foreground",children:"Set as default framework"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Description"}),(0,s.jsx)("textarea",{value:c,onChange:e=>u(e.target.value),rows:2,className:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-md focus:outline-none focus:ring-2 focus:ring-ring resize-none",placeholder:"Describe this framework and when to use it"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)("h4",{className:"text-md font-medium text-foreground",children:"Framework Slides"}),(0,s.jsx)("button",{type:"button",onClick:()=>{let e={id:"temp-".concat(Date.now()),title:"Slide ".concat(p.length+1),instructions:"",slideType:"CONTENT",layout:"TEXT_ONLY",order:p.length+1};f([...p,e])},className:"px-4 py-2 text-sm bg-secondary text-secondary-foreground rounded-md hover:bg-secondary/80 transition-colors",children:"Add Slide"})]}),(0,s.jsxs)("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:[p.map((e,t)=>(0,s.jsxs)("div",{className:"border border-input rounded-md p-4 bg-muted/20",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,s.jsxs)("span",{className:"text-sm font-medium text-foreground",children:["Slide ",t+1,": ",e.title||"Untitled"]}),(0,s.jsx)("button",{type:"button",onClick:()=>{f(p.filter((e,r)=>r!==t).map((e,t)=>({...e,order:t+1})))},className:"text-destructive hover:text-destructive/80 text-sm font-medium",children:"Remove"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium text-foreground mb-1",children:"Slide Title"}),(0,s.jsx)("input",{type:"text",value:e.title,onChange:e=>b(t,"title",e.target.value),className:"w-full px-3 py-2 text-sm border border-input bg-background text-foreground rounded-md focus:outline-none focus:ring-1 focus:ring-ring",placeholder:"Enter slide title"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium text-foreground mb-1",children:"Slide Type"}),(0,s.jsxs)("select",{value:e.slideType,onChange:e=>b(t,"slideType",e.target.value),className:"w-full px-3 py-2 text-sm border border-input bg-background text-foreground rounded-md focus:outline-none focus:ring-1 focus:ring-ring",children:[(0,s.jsx)("option",{value:"TITLE",children:"Title Slide"}),(0,s.jsx)("option",{value:"INTRO",children:"Introduction"}),(0,s.jsx)("option",{value:"CONTENT",children:"Content"}),(0,s.jsx)("option",{value:"CONCLUSION",children:"Conclusion"}),(0,s.jsx)("option",{value:"NEXT_STEPS",children:"Next Steps"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium text-foreground mb-1",children:"Slide Instructions"}),(0,s.jsx)("textarea",{value:e.instructions,onChange:e=>b(t,"instructions",e.target.value),rows:3,className:"w-full px-3 py-2 text-sm border border-input bg-background text-foreground rounded-md focus:outline-none focus:ring-1 focus:ring-ring resize-none",placeholder:"Provide specific instructions for generating this slide content..."})]})]},e.id)),0===p.length&&(0,s.jsxs)("div",{className:"text-center py-12 text-muted-foreground bg-muted/10 rounded-lg border border-dashed border-border",children:[(0,s.jsx)("h4",{className:"text-sm font-medium mb-2",children:"No slides added yet"}),(0,s.jsx)("p",{className:"text-xs",children:'Click "Add Slide" to start building your framework structure'})]})]})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3 pt-6 border-t border-border",children:[(0,s.jsx)("button",{type:"button",onClick:i,className:"px-6 py-2 border border-input text-foreground bg-background rounded-md hover:bg-accent transition-colors",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",disabled:h||!d.trim(),className:"px-6 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:h?"Saving...":t?"Update Framework":"Create Framework"})]})]})})}},8560:(e,t,r)=>{Promise.resolve().then(r.bind(r,4045))}},e=>{e.O(0,[733,441,255,358],()=>e(e.s=8560)),_N_E=e.O()}]);