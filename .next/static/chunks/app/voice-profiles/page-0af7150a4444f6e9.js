(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[900],{2678:(e,t,r)=>{Promise.resolve().then(r.bind(r,9142))},9142:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(5155),i=r(2115),o=r(1733);function n(e){let{label:t,items:r,onAdd:o,onRemove:n,placeholder:a,suggestions:d=[]}=e,[l,c]=(0,i.useState)(""),[u,m]=(0,i.useState)(!1),x=()=>{l.trim()&&!r.includes(l.trim())&&(o(l.trim()),c(""))};return(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:t}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("input",{type:"text",value:l,onChange:e=>c(e.target.value),onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),x())},onFocus:()=>m(!0),onBlur:()=>setTimeout(()=>m(!1),200),className:"flex-1 px-3 py-2 text-sm border border-input bg-background text-foreground rounded-md focus:outline-none focus:ring-2 focus:ring-ring",placeholder:a}),(0,s.jsx)("button",{type:"button",onClick:x,disabled:!l.trim()||r.includes(l.trim()),className:"px-3 py-2 text-sm bg-primary text-primary-foreground rounded-md hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Add"})]}),d.length>0&&u&&""===l&&(0,s.jsxs)("div",{className:"bg-muted/50 rounded-md p-2",children:[(0,s.jsx)("div",{className:"text-xs text-muted-foreground mb-2",children:"Suggestions:"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-1",children:d.filter(e=>!r.includes(e)).slice(0,6).map((e,t)=>(0,s.jsxs)("button",{type:"button",onClick:()=>{!r.includes(e)&&o(e),m(!1)},className:"px-2 py-1 text-xs bg-secondary text-secondary-foreground rounded hover:bg-secondary/80 transition-colors",children:["+ ",e]},t))})]}),r.length>0&&(0,s.jsx)("div",{className:"space-y-2",children:r.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center justify-between bg-muted/20 rounded-md px-3 py-2 group",children:[(0,s.jsx)("span",{className:"text-sm text-foreground flex-1",children:e}),(0,s.jsx)("button",{type:"button",onClick:()=>n(t),className:"text-destructive hover:text-destructive/80 text-sm opacity-70 group-hover:opacity-100 transition-opacity",title:"Remove item",children:"âœ•"})]},t))}),0===r.length&&(0,s.jsx)("div",{className:"text-center py-4 text-muted-foreground text-sm bg-muted/10 rounded-md border border-dashed",children:"No items added yet. Use the input above to add items."})]})}function a(){let[e,t]=(0,i.useState)([]),[n,a]=(0,i.useState)([]),[l,c]=(0,i.useState)(!0),[u,m]=(0,i.useState)(""),[x,p]=(0,i.useState)("list"),[g,f]=(0,i.useState)(null);(0,i.useEffect)(()=>{h()},[]),(0,i.useEffect)(()=>{a(e.filter(e=>e.name.toLowerCase().includes(u.toLowerCase())||e.instructions.toLowerCase().includes(u.toLowerCase())))},[e,u]);let h=async()=>{try{let{getVoiceProfiles:e}=await r.e(926).then(r.bind(r,7545)),s=await e();t(s)}catch(e){console.error("Error fetching voice profiles:",e)}finally{c(!1)}},b=async e=>{if(confirm("Are you sure you want to delete this voice profile?"))try{let{deleteVoiceProfile:t}=await r.e(926).then(r.bind(r,7545)),s=await t(e);s.success?h():alert(s.error||"Failed to delete voice profile")}catch(e){console.error("Error deleting voice profile:",e)}},y=()=>{f(null),p("create")},v=()=>{p("list"),f(null)};return l?(0,s.jsx)("main",{className:"min-h-screen bg-background p-8",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,s.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"}),(0,s.jsx)("span",{className:"ml-4 text-lg text-muted-foreground",children:"Loading voice profiles..."})]})})}):(0,s.jsx)("main",{className:"min-h-screen bg-background p-8",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Voice Profiles"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"list"===x?"Manage your AI voice and audience profiles for personalized presentations":"create"===x?"Create a new voice profile with categorized instructions":"Edit voice profile details and categories"})]}),"list"===x?(0,s.jsx)("button",{onClick:y,className:"px-6 py-3 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors",children:"Create Profile"}):(0,s.jsx)("button",{onClick:v,className:"px-6 py-3 border border-input text-foreground bg-background rounded-md hover:bg-accent hover:text-accent-foreground transition-colors",children:"Back to List"})]}),"list"===x&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsx)("input",{type:"text",placeholder:"Search profiles...",value:u,onChange:e=>m(e.target.value),className:"w-full max-w-md px-4 py-2 border border-input bg-background text-foreground rounded-md focus:outline-none focus:ring-2 focus:ring-ring placeholder:text-muted-foreground"})}),(0,s.jsx)("div",{className:"grid gap-6",children:0===n.length?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-foreground mb-2",children:u?"No profiles found":"No voice profiles yet"}),(0,s.jsx)("p",{className:"text-muted-foreground mb-4",children:u?"Try adjusting your search terms.":"Create your first voice profile to get started."}),!u&&(0,s.jsx)("button",{onClick:y,className:"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors",children:"Create Profile"})]}):(0,s.jsx)("div",{className:"bg-card rounded-lg border overflow-hidden",children:(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{className:"bg-muted",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Name"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Categories"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Default"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Created"}),(0,s.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-border",children:n.map((e,t)=>(0,s.jsxs)(o.P.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},className:"hover:bg-muted/50",children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"font-medium text-foreground",children:e.name})}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.tone&&(0,s.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-blue-50 text-blue-700 border border-blue-200",children:e.tone}),e.audience&&(0,s.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-green-50 text-green-700 border border-green-200",children:e.audience}),e.objective&&(0,s.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-purple-50 text-purple-700 border border-purple-200",children:e.objective})]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.isDefault&&(0,s.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-primary/10 text-primary",children:"Default"})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-muted-foreground",children:new Date(e.createdAt).toLocaleDateString()}),(0,s.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[(0,s.jsx)("button",{onClick:()=>{f(e),p("edit")},className:"text-primary hover:text-primary/80 mr-4",children:"Edit"}),(0,s.jsx)("button",{onClick:()=>b(e.id),className:"text-destructive hover:text-destructive/80",children:"Delete"})]})]},e.id))})]})})})})]}),("create"===x||"edit"===x)&&(0,s.jsx)(d,{profile:g,onSuccess:()=>{p("list"),f(null),h()},onCancel:v})]})})}function d(e){let{profile:t,onSuccess:o,onCancel:a}=e,[d,l]=(0,i.useState)((null==t?void 0:t.name)||""),[c,u]=(0,i.useState)((null==t?void 0:t.tone)||[]),[m,x]=(0,i.useState)((null==t?void 0:t.audience)||[]),[p,g]=(0,i.useState)((null==t?void 0:t.objective)||[]),[f,h]=(0,i.useState)((null==t?void 0:t.brandVoice)||[]),[b,y]=(0,i.useState)((null==t?void 0:t.contentStyle)||[]),[v,j]=(0,i.useState)((null==t?void 0:t.restrictions)||[]),[N,w]=(0,i.useState)((null==t?void 0:t.other)||[]),[S,C]=(0,i.useState)((null==t?void 0:t.isDefault)||!1),[k,A]=(0,i.useState)(!1),E=async e=>{e.preventDefault(),A(!0);try{let e=new FormData;if(e.append("name",d),e.append("tone",JSON.stringify(c)),e.append("audience",JSON.stringify(m)),e.append("objective",JSON.stringify(p)),e.append("brandVoice",JSON.stringify(f)),e.append("contentStyle",JSON.stringify(b)),e.append("restrictions",JSON.stringify(v)),e.append("other",JSON.stringify(N)),e.append("isDefault",S.toString()),t){let{updateVoiceProfile:s}=await r.e(926).then(r.bind(r,7545)),i=await s(t.id,e);i.success?o():alert(i.error||"Failed to update voice profile")}else{let{createVoiceProfile:t}=await r.e(926).then(r.bind(r,7545)),s=await t(e);s.success?o():alert(s.error||"Failed to create voice profile")}}catch(e){console.error("Error saving voice profile:",e),alert("An unexpected error occurred")}finally{A(!1)}};return(0,s.jsxs)("div",{className:"bg-card rounded-lg border p-8",children:[(0,s.jsx)("h3",{className:"text-2xl font-semibold text-foreground mb-6",children:t?"Edit Voice Profile":"Create Voice Profile"}),(0,s.jsxs)("form",{onSubmit:E,className:"space-y-8",children:[(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("h4",{className:"text-lg font-medium text-foreground border-b border-border pb-2",children:"Basic Information"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Profile Name *"}),(0,s.jsx)("input",{type:"text",value:d,onChange:e=>l(e.target.value),className:"w-full px-3 py-2 border border-input bg-background text-foreground rounded-md focus:outline-none focus:ring-2 focus:ring-ring",placeholder:"e.g., Executive Presentations",required:!0})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",id:"isDefault",checked:S,onChange:e=>C(e.target.checked),className:"mr-2"}),(0,s.jsx)("label",{htmlFor:"isDefault",className:"text-sm text-foreground",children:"Set as default profile"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("h4",{className:"text-lg font-medium text-foreground border-b border-border pb-2",children:"Voice Categories"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsx)(n,{label:"Tone",items:c,onAdd:e=>u([...c,e]),onRemove:e=>u(c.filter((t,r)=>r!==e)),placeholder:"Add tone (e.g., Professional, Casual)",suggestions:["Professional","Casual","Formal","Friendly","Authoritative","Conversational","Enthusiastic"]}),(0,s.jsx)(n,{label:"Target Audience",items:m,onAdd:e=>x([...m,e]),onRemove:e=>x(m.filter((t,r)=>r!==e)),placeholder:"Add audience (e.g., Executives, Students)",suggestions:["Executives","Students","General Public","Technical Teams","Sales Teams","Marketing Teams","Customers"]}),(0,s.jsx)(n,{label:"Primary Objective",items:p,onAdd:e=>g([...p,e]),onRemove:e=>g(p.filter((t,r)=>r!==e)),placeholder:"Add objective (e.g., Educate, Persuade)",suggestions:["Educate","Persuade","Inform","Sell","Train","Update","Inspire"]}),(0,s.jsx)(n,{label:"Brand Voice",items:f,onAdd:e=>h([...f,e]),onRemove:e=>h(f.filter((t,r)=>r!==e)),placeholder:"Add brand voice (e.g., Company values)",suggestions:["Company values","Mission focused","Innovation leader","Customer centric","Quality driven","Results oriented"]}),(0,s.jsx)(n,{label:"Content Style",items:b,onAdd:e=>y([...b,e]),onRemove:e=>y(b.filter((t,r)=>r!==e)),placeholder:"Add content style (e.g., Use examples)",suggestions:["Use examples","Include statistics","Avoid jargon","Use bullet points","Tell stories","Use visuals","Keep it simple"]}),(0,s.jsx)(n,{label:"Restrictions",items:v,onAdd:e=>j([...v,e]),onRemove:e=>j(v.filter((t,r)=>r!==e)),placeholder:"Add restrictions (e.g., Avoid competitors)",suggestions:["Avoid competitors","No technical terms","No pricing discussion","Keep it brief","No controversial topics"]})]}),(0,s.jsx)(n,{label:"Additional Instructions",items:N,onAdd:e=>w([...N,e]),onRemove:e=>w(N.filter((t,r)=>r!==e)),placeholder:"Add other instructions (e.g., Use humor appropriately)",suggestions:["Use humor appropriately","Include call to action","Reference company culture","Use industry terms"]})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-4 pt-6 border-t border-border",children:[(0,s.jsx)("button",{type:"button",onClick:a,className:"px-6 py-2 border border-input text-foreground bg-background rounded-md hover:bg-accent hover:text-accent-foreground transition-colors",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",disabled:k||!d,className:"px-6 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 disabled:opacity-50 transition-colors",children:k?"Saving...":t?"Update Profile":"Create Profile"})]})]})]})}}},e=>{e.O(0,[733,441,255,358],()=>e(e.s=2678)),_N_E=e.O()}]);