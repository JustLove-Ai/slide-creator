(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[407],{63:(e,s,r)=>{"use strict";var t=r(7260);r.o(t,"useParams")&&r.d(s,{useParams:function(){return t.useParams}}),r.o(t,"usePathname")&&r.d(s,{usePathname:function(){return t.usePathname}}),r.o(t,"useRouter")&&r.d(s,{useRouter:function(){return t.useRouter}})},1194:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>o});var t=r(5155),n=r(2115),a=r(63);function i(e){let{original:s,regenerated:r,presentationId:a,slideId:i,onKeepOriginal:o,onKeepRegenerated:l,onKeepBoth:d}=e,[c,m]=(0,n.useState)(!1),x=async()=>{m(!0);try{await o()}finally{m(!1)}},p=async()=>{m(!0);try{await l()}finally{m(!1)}},u=async()=>{m(!0);try{await d()}finally{m(!1)}},g=e=>{switch(e){case"TITLE":return"bg-purple-100 text-purple-800";case"INTRO":return"bg-blue-100 text-blue-800";case"CONTENT":return"bg-green-100 text-green-800";case"CONCLUSION":return"bg-orange-100 text-orange-800";case"NEXT_STEPS":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return(0,t.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Compare Slide Versions"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Choose which version to keep, or keep both slides"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 overflow-hidden",children:[(0,t.jsx)("div",{className:"px-6 py-4 bg-blue-50 border-b border-gray-200",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-blue-700",children:"Original Version"}),(0,t.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(g(s.slideType)),children:s.slideType.replace("_"," ")})]}),(0,t.jsxs)("span",{className:"text-sm text-blue-600 font-medium",children:["Slide ",s.order]})]})}),(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:s.title}),(0,t.jsx)("div",{className:"prose prose-sm max-w-none",children:(0,t.jsx)("pre",{className:"whitespace-pre-wrap text-sm text-gray-700 leading-relaxed bg-gray-50 p-4 rounded",children:s.content})})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 overflow-hidden",children:[(0,t.jsx)("div",{className:"px-6 py-4 bg-green-50 border-b border-gray-200",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-green-700",children:"AI Regenerated Version"}),(0,t.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(g(r.slideType)),children:r.slideType.replace("_"," ")})]}),(0,t.jsxs)("span",{className:"text-sm text-green-600 font-medium",children:["Slide ",r.order]})]})}),(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:r.title}),(0,t.jsx)("div",{className:"prose prose-sm max-w-none",children:(0,t.jsx)("pre",{className:"whitespace-pre-wrap text-sm text-gray-700 leading-relaxed bg-gray-50 p-4 rounded",children:r.content})})]})]})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-center gap-4 max-w-2xl mx-auto",children:[(0,t.jsx)("button",{onClick:x,disabled:c,className:"flex-1 bg-blue-600 text-white px-6 py-3 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:c?"Processing...":"Keep Original"}),(0,t.jsx)("button",{onClick:p,disabled:c,className:"flex-1 bg-green-600 text-white px-6 py-3 rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:c?"Processing...":"Keep Regenerated"}),(0,t.jsx)("button",{onClick:u,disabled:c,className:"flex-1 bg-purple-600 text-white px-6 py-3 rounded-md hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:c?"Processing...":"Keep Both"})]}),(0,t.jsx)("div",{className:"text-center mt-6",children:(0,t.jsx)("a",{href:"/presentations/".concat(a),className:"text-gray-600 hover:text-gray-800 font-medium",children:"← Back to Presentation"})})]})}function o(){let e=(0,a.useParams)(),[s,r]=(0,n.useState)(null),[o,l]=(0,n.useState)(!0);(0,n.useEffect)(()=>{let e=localStorage.getItem("slideComparison");if(e)try{let s=JSON.parse(e);r(s)}catch(e){console.error("Error parsing comparison data:",e)}l(!1)},[]);let d=async()=>{window.location.href="/presentations/".concat(e.id)},c=async()=>{if(s)try{(await fetch("/api/slides/".concat(e.slideId),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:s.regenerated.title,content:s.regenerated.content})})).ok&&(localStorage.removeItem("slideComparison"),window.location.href="/presentations/".concat(e.id))}catch(e){console.error("Error updating slide:",e)}},m=async()=>{if(s)try{let r=await fetch("/api/presentations/".concat(e.id));await r.json();let t=s.original.order+1;await fetch("/api/slides/reorder",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({presentationId:e.id,fromOrder:t,increment:1})}),await fetch("/api/slides",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({presentationId:e.id,title:s.regenerated.title,content:s.regenerated.content,slideType:s.regenerated.slideType,order:t})}),localStorage.removeItem("slideComparison"),window.location.href="/presentations/".concat(e.id)}catch(e){console.error("Error keeping both slides:",e)}};return o?(0,t.jsx)("main",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-8",children:(0,t.jsx)("div",{className:"flex items-center justify-center",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):s?(0,t.jsx)("main",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-8",children:(0,t.jsx)(i,{original:s.original,regenerated:s.regenerated,presentationId:e.id,slideId:e.slideId,onKeepOriginal:d,onKeepRegenerated:c,onKeepBoth:m})}):(0,t.jsx)("main",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-8",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"No comparison data found"}),(0,t.jsx)("a",{href:"/presentations/".concat(e.id),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Back to Presentation"})]})})}},9872:(e,s,r)=>{Promise.resolve().then(r.bind(r,1194))}},e=>{e.O(0,[441,255,358],()=>e(e.s=9872)),_N_E=e.O()}]);